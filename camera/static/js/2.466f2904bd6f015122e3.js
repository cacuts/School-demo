webpackJsonp([2],{"O/cO":function(t,e){},xKAo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),s=a.n(i),n=a("exGp"),c=a.n(n),o={data:function(){return{video:"",aCanvas:"",ctx:"",src:"",viWidth:"",viHeight:""}},mounted:function(){var t=this;this.video=document.getElementById("videoTest"),this.aCanvas=document.getElementById("canvas"),this.ctx=this.aCanvas.getContext("2d"),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:500},height:{ideal:800}},audio:!1}).then(function(e){t.video.srcObject=e,t.mediaStream=e,t.video.play()}).catch(function(t){console.log(t)})},methods:{uploadImg:function(){var t=this;return c()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.ctx.drawImage(t.video,0,0,200,200),t.src=t.aCanvas.toDataURL("image/*"),t.src?t.$router.push({path:"/img",query:{src:t.src}}):t.$toast({message:"拍照失败"});case 3:case"end":return e.stop()}},e,t)}))()}}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticStyle:{width:"100%",height:"calc(100vh - 100px)"},attrs:{id:"camera"}},[e("video",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"},attrs:{id:"videoTest",playsInline:!0}})]),this._v(" "),e("canvas",{staticStyle:{display:"none"},attrs:{id:"canvas",width:"200",height:"200"}}),this._v(" "),e("div",{staticClass:"footer"},[e("button",{staticClass:"submitButton",on:{click:this.uploadImg}})]),this._v(" "),e("div",{staticClass:"mb",attrs:{id:"mb"}})])},staticRenderFns:[]};var r=a("VU/8")(o,d,!1,function(t){a("O/cO")},"data-v-7a9f31b9",null);e.default=r.exports}});
//# sourceMappingURL=2.466f2904bd6f015122e3.js.map