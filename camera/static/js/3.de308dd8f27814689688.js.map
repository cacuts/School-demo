{"version":3,"sources":["webpack:///src/pages/homePage/test2.vue","webpack:///./src/pages/homePage/test2.vue?1cc1","webpack:///./src/pages/homePage/test2.vue"],"names":["test2","data","video","aCanvas","ctx","src","viWidth","viHeight","mounted","_this","this","document","getElementById","body","offsetWidth","offsetHeight","console","log","navigator","mediaDevices","getUserMedia","facingMode","width","ideal","height","audio","then","stream","srcObject","mediaStream","play","catch","error","methods","uploadImg","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$router","push","path","query","$toast","message","stop","homePage_test2","render","_h","$createElement","_c","_self","staticStyle","attrs","id","playsInline","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"wKAwBAA,GACAC,KADA,WAEA,OACAC,MAAA,GACAC,QAAA,GACAC,IAAA,GACAC,IAAA,GACAC,QAAA,GACAC,SAAA,KAGAC,QAXA,WAWA,IAAAC,EAAAC,KAEAA,KAAAR,MAAAS,SAAAC,eAAA,aAGA,IAAAC,EAAAF,SAAAC,eAAA,UAGAL,GADAM,EAAAC,YACAD,EAAAE,cACAC,QAAAC,IAAAV,GACAW,UAAAC,aAAAC,cACAlB,OACAmB,WAAA,cACAC,OAAAC,MAAA,KACAC,QAAAD,MAAA,MAEAE,OAAA,IAEAC,KAAA,SAAAC,GACAlB,EAAAP,MAAA0B,UAAAD,EACAlB,EAAAoB,YAAAF,EACAlB,EAAAP,MAAA4B,SAEAC,MAAA,SAAAC,GACAhB,QAAAC,IAAAe,MAGAC,SACAC,UADA,WACA,IAAAC,EAAAzB,KAAA,OAAA0B,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAIAT,EAAA9B,IACA8B,EAAAU,QAAAC,MACAC,KAAA,OACAC,OACA3C,IAAA8B,EAAA9B,OAIA8B,EAAAc,QAAAC,QAAA,SAZA,wBAAAR,EAAAS,SAAAX,EAAAL,KAAAC,MC5DegB,GADEC,OAFjB,WAA0B,IAAaC,EAAb5C,KAAa6C,eAA0BC,EAAvC9C,KAAuC+C,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,aAAapC,MAAA,OAAAE,OAAA,uBAA8CmC,OAAQC,GAAA,YAAeJ,EAAA,SAAcE,aAAapC,MAAA,OAAAE,OAAA,QAA+BmC,OAAQC,GAAA,YAAAC,aAAA,UAEvPC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEjE,EACAoD,GATF,EAVA,SAAAc,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/3.de308dd8f27814689688.js","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"camera\" style=\"width:100%;height:calc(100vh - 100px);\">\r\n    <video\r\n      id=\"videoTest\"\r\n      :playsInline=\"true\"\r\n      style=\"width: 100%; height: 100%;\"\r\n    />  \r\n    </div>\r\n     <!-- <canvas style=\"display:none\" id=\"canvas\" width=\"200\" height=\"200\"></canvas>\r\n    \r\n    <div class=\"footer\">\r\n        测试\r\n    <button class=\"submitButton\" @click=\"uploadImg\"></button>\r\n    </div>\r\n    <div id=\"mb\" class=\"mb\">         -->\r\n    <!-- </div> -->\r\n    <!-- <div>\r\n        <img :src=\"src\" alt=\"\" srcset=\"\" width=\"100px\" height=\"100px\">\r\n    </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n            video:'',\r\n            aCanvas:'',\r\n            ctx:'',\r\n            src:'',\r\n            viWidth:'',\r\n            viHeight:''\r\n    };\r\n  },\r\n  mounted() {\r\n    //获取video，之后作为stream数据的载体\r\n    this.video = document.getElementById(\"videoTest\");  \r\n    // this.aCanvas = document.getElementById('canvas');\r\n    // this.ctx = this.aCanvas.getContext('2d');\r\n    var body = document.getElementById('camera')\r\n    // console.log(body.offsetWidth,body.offsetHeight);\r\n    var viWidth = body.offsetWidth\r\n    var viHeight = body.offsetHeight\r\n    console.log(viHeight);\r\n    navigator.mediaDevices.getUserMedia({\r\n        video: {\r\n          facingMode:\"environment\" , //在app上使用后置  后置:’environment‘,前置：’user‘\r\n          width: { ideal: 1000 }, //1000的摄像头分辨率宽\r\n          height: {ideal: 1000}, //1000的摄像头分辨率高\r\n        },       \r\n        audio: false, //关闭录音\r\n      })\r\n      .then((stream) => {\r\n        this.video.srcObject = stream;\r\n        this.mediaStream = stream;        \r\n        this.video.play();               \r\n     })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });      \r\n  },\r\n  methods: {\r\n    async uploadImg() {\r\n      // this.ctx.drawImage(this.video, 0, 0, 200, 200);      \r\n      // this.src = this.aCanvas.toDataURL(\"image/*\");\r\n    //   console.log(this.src);\r\n      if(this.src){\r\n          this.$router.push({\r\n              path:'/img',\r\n              query:{\r\n                  src:this.src\r\n              }\r\n          })\r\n      }else{\r\n          this.$toast({message:'拍照失败'})\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.mb{\r\n    position: absolute;\r\n    bottom: 0;\r\n    top: 30%;right: 0;left: 10%;  bottom: 0;  \r\n    width: 80%;\r\n    height: 200px;\r\n    background:\r\n    linear-gradient(to left, white, white) left top no-repeat,\r\n    linear-gradient(to bottom, white, white) left top no-repeat,\r\n    linear-gradient(to left, white, white) right top no-repeat,\r\n    linear-gradient(to bottom, white, white) right top no-repeat,\r\n    linear-gradient(to left, white, white) left bottom no-repeat,\r\n    linear-gradient(to bottom, white, white) left bottom no-repeat,\r\n    linear-gradient(to left, white, white) right bottom no-repeat,\r\n    linear-gradient(to left, white, white) right bottom no-repeat;\r\n    background-size: 2px 10px, 10px 2px, 2px 10px, 10px 2px;\r\n\r\n}\r\n/* .mb{\r\n    position: absolute;\r\n    top: 0;right: 0;left: 0;  bottom: 0;  \r\n    background: rgba(224, 224, 224,0.8);\r\n    border: 0 solid #000;\r\n    opacity: 0.75;    \r\n    filter: alpha(opacity=75);\r\n        z-index: 9;\r\n    box-shadow: 0 0 0 100px #000;\r\n    overflow: hidden;\r\n    width: 167px;\r\n    height: 39px;\r\n    border-width: 200px 25px 100px 40px ;\r\n    display: block;   \r\n}\r\n.mb::before {\r\n        content: '';\r\n        width: 100%;\r\n        height:100%;\r\n        z-index: 100;\r\n        border-radius: 5%;\r\n        border: 5px solid rgba(20,146,253);\r\n        position: absolute;\r\n        left: -5px; top: -5px;\r\n        box-shadow: inset 0 0 5px 2px rgba(0,0,0,.75);\r\n    } */\r\n    .submitButton{\r\n      \r\n          width: 50px;\r\n          height: 50px;\r\n          background: #fff;\r\n          box-shadow: 0 0 5px #fff;\r\n          border-radius: 50px;\r\n          position: fixed;\r\n          bottom: 10px;\r\n          left: 50%;\r\n          margin-left: -25px;\r\n        \r\n    }\r\n    .footer{\r\n        width: 100%;padding:10px;height: 50px;background: white;\r\n        display: flex;justify-content: space-around;\r\n        position: fixed;bottom: 0;left: 0;right: 0;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/homePage/test2.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"calc(100vh - 100px)\"},attrs:{\"id\":\"camera\"}},[_c('video',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"id\":\"videoTest\",\"playsInline\":true}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3d7a8b00\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/homePage/test2.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d7a8b00\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./test2.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./test2.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./test2.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d7a8b00\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./test2.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3d7a8b00\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/homePage/test2.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}