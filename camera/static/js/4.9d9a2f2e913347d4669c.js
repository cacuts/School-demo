webpackJsonp([4],{TLPT:function(t,e){},xKAo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),n=a.n(i),s=a("exGp"),c=a.n(s),o={data:function(){return{video:"",aCanvas:"",ctx:"",src:"",viWidth:"",viHeight:""}},mounted:function(){var t=this;this.video=document.getElementById("videoTest"),this.aCanvas=document.getElementById("canvas"),this.ctx=this.aCanvas.getContext("2d"),navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{min:1024,ideal:1280,max:1920},height:{min:776,ideal:720,max:1080}},audio:!1}).then(function(e){t.video.srcObject=e,t.mediaStream=e,t.video.play()}).catch(function(t){console.log(t)})},methods:{uploadImg:function(){var t=this;return c()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.ctx.drawImage(t.video,0,0,200,200),t.src=t.aCanvas.toDataURL("image/*"),t.src?t.$router.push({path:"/img",query:{src:t.src}}):t.$toast({message:"拍照失败"});case 3:case"end":return e.stop()}},e,t)}))()}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{width:"100%",height:"calc(100vh - 70px)"},attrs:{id:"camera"}},[a("video",{staticStyle:{width:"100%",height:"100%","object-fit":"fill"},attrs:{id:"videoTest",playsInline:!0,controls:!0}})]),t._v(" "),a("canvas",{staticStyle:{display:"none"},attrs:{id:"canvas",width:"200",height:"200"}}),t._v(" "),a("div",{staticClass:"footer2"},[a("van-button",{staticClass:"submitButton",attrs:{icon:"cross"},on:{click:function(e){t.camera=!1}}}),t._v(" "),a("van-button",{staticClass:"submitButton",attrs:{icon:"photograph"},on:{click:t.uploadImg}})],1),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cover"},[e("div",[this._v("请将身份证或社保卡置于取景框内")]),this._v(" "),e("div",{staticClass:"mb",attrs:{id:"mb"}})])}]};var d=a("VU/8")(o,r,!1,function(t){a("TLPT")},"data-v-2bca7848",null);e.default=d.exports}});
//# sourceMappingURL=4.9d9a2f2e913347d4669c.js.map